(()=>{"use strict";var e={81:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.FileType=void 0,function(e){e[e.SOURCE=0]="SOURCE",e[e.TEXT=1]="TEXT",e[e.HEADER=2]="HEADER"}(r||(t.FileType=r={}))},265:function(e,t,r){var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),c=0;c<r.length;c++)"default"!==r[c]&&o(t,e,r[c]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){console.log('Extension "vscode-to-vs" is now active!');const t=a.commands.registerCommand("vscode-to-vs.generateCppSolution",async()=>{try{(0,l.generateVSProjectFiles)()}catch(e){a.window.showErrorMessage(`Error generating project files: ${e}`)}});e.subscriptions.push(t)},t.deactivate=function(){};const a=c(r(398)),l=r(984)},398:e=>{e.exports=require("vscode")},673:function(e,t,r){var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),c=0;c<r.length;c++)"default"!==r[c]&&o(t,e,r[c]);return i(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.copyTemplateFiles=function(e,t,r){const n=l.default.join(__dirname,"assets");u.readdirSync(n).forEach(t=>{"template.sln"!==t&&t.startsWith("template.")&&u.copyFileSync(l.default.join(n,t),l.default.join(e,t))});const o="template.sln";u.copyFileSync(l.default.join(n,o),l.default.join(t,o)),u.readdirSync(e).forEach(t=>{if(t.startsWith("template.")){const n=t.replace("template",r);u.renameSync(l.default.join(e,t),l.default.join(e,n))}});const i=l.default.join(t,"template.sln"),c=l.default.join(t,`${r}.sln`);u.renameSync(i,c)},t.copyFiles=function(e,t){const r=[".cpp",".h",".dat",".txt"];u.readdirSync(e).forEach(n=>{const o=l.default.extname(n);r.includes(o)&&u.copyFileSync(l.default.join(e,n),l.default.join(t,n))}),u.readdirSync(e).forEach(t=>{const n=l.default.extname(t);r.includes(n)&&u.unlinkSync(l.default.join(e,t))}),u.readdirSync(e).forEach(t=>{const r=l.default.extname(t);".exe"!==r&&".obj"!==r&&""!==r||u.unlinkSync(l.default.join(e,t))})},t.replaceIdsInSolutionFile=function(e,t){const r=l.default.join(t,`${e}.sln`);let n=u.readFileSync(r,"utf-8");n=n.replace(/NAME/g,e),n=n.replace(/PROJECTID/g,(0,s.generateGUID)()),n=n.replace(/SOLUTIONID/g,(0,s.generateGUID)()),u.writeFileSync(r,n,"utf-8")};const l=a(r(928)),u=c(r(896)),s=r(870)},870:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")},945:function(e,t,r){var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),c=0;c<r.length;c++)"default"!==r[c]&&o(t,e,r[c]);return i(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.appendFileTypesToFilters=function(e,t){const r=[`${t}.vcxproj`,`${t}.vcxproj.filters`,`${t}.vcxproj.user`],n=u.readdirSync(e).filter(e=>!r.includes(e)).map(e=>({fileType:f(e),fileName:e})),o=function(e,t){let r="\n  <ItemGroup>",n=r,o=r,i=r;for(let t of e)if(t)switch(t.fileType){case s.FileType.SOURCE:n+=`\n    <ClCompile Include="${t.fileName}">\n      <Filter>Source Files</Filter>\n    </ClCompile>`;break;case s.FileType.TEXT:o+=`\n    <Text Include="${t.fileName}">\n      <Filter>Source Files</Filter>\n    </Text>`;break;case s.FileType.HEADER:i+=`\n    <ClInclude Include="${t.fileName}">\n      <Filter>Header Files</Filter>\n    </ClInclude>`}return n!==r&&(n+="\n  </ItemGroup>",t+=n),o!==r&&(o+="\n  </ItemGroup>",t+=o),i!==r&&(i+="\n  </ItemGroup>",t+=i),t+="\n</Project>"}(n,""),i=function(e,t){let r="\n  <ItemGroup>",n=r,o=r,i=r;for(let t of e)if(t)switch(t.fileType){case s.FileType.SOURCE:n+=`\n    <ClCompile Include="${t.fileName}" />`;break;case s.FileType.TEXT:o+=`\n    <Text Include="${t.fileName}" />`;break;case s.FileType.HEADER:i+=`\n    <ClInclude Include="${t.fileName}" />`}return n!==r&&(n+="\n  </ItemGroup>",t+=n),o!==r&&(o+="\n  </ItemGroup>",t+=o),i!==r&&(i+="\n  </ItemGroup>",t+=i),t+='\n  <Import Project="$(VCTargetsPath)\\Microsoft.Cpp.targets" />\n  <ImportGroup Label="ExtensionTargets">\n  </ImportGroup>\n</Project>'}(n,"");u.appendFileSync(l.default.join(e,`${t}.vcxproj.filters`),o),u.appendFileSync(l.default.join(e,`${t}.vcxproj`),i)};const l=a(r(928)),u=c(r(896)),s=r(81);function f(e){switch(l.default.extname(e)){case".cpp":return s.FileType.SOURCE;case".h":return s.FileType.HEADER;default:return s.FileType.TEXT}}},984:function(e,t,r){var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),c=0;c<r.length;c++)"default"!==r[c]&&o(t,e,r[c]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateVSProjectFiles=async function(){if(!a.workspace.name)return void a.window.showErrorMessage("No workspace is currently open.");const e=await a.window.showInputBox({prompt:"Enter the project name",value:a.workspace.name}),t=a.workspace.workspaceFolders?.[0].uri.fsPath;if(!t)return void a.window.showErrorMessage("No workspace folder found.");const r=l.join(t,e),n=l.join(r,e);try{u.mkdirSync(r,{recursive:!0}),u.mkdirSync(n,{recursive:!0})}catch(e){return void a.window.showErrorMessage("Error creating folders: ")}try{(0,s.copyTemplateFiles)(n,r,e)}catch(e){if(e instanceof Error)return e.message.includes("EPERM")?void 0:void a.window.showErrorMessage(`Error copying files: ${e}`)}try{(0,s.replaceIdsInSolutionFile)(e,r)}catch(e){return void a.window.showErrorMessage(`Error replacing IDs: ${e}`)}try{(0,s.copyFiles)(t,n)}catch(e){if(e instanceof Error)return e.message.includes("EPERM")?void 0:void a.window.showErrorMessage(`Error copying main files: ${e}`)}try{(0,f.appendFileTypesToFilters)(n,e)}catch(e){return void a.window.showErrorMessage(`Error appending file types to filters: ${e}`)}a.window.showInformationMessage("Visual Studio project files generated successfully")};const a=c(r(398)),l=c(r(928)),u=c(r(896)),s=r(673),f=r(945)}},t={},r=function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(265);module.exports=r})();